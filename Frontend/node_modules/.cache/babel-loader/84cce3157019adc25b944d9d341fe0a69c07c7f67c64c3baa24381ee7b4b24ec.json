{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.calculateNewValue = calculateNewValue;\nvar _selectionRange = require(\"./selectionRange\");\nvar _getValue2 = require(\"./getValue\");\nvar _isValidDateValue = require(\"./isValidDateValue\");\nvar _isValidInputTimeValue = require(\"./isValidInputTimeValue\");\nfunction calculateNewValue(newEntry, element, value = (() => {\n  var _getValue;\n  return (_getValue = (0, _getValue2.getValue)(element)) != null ? _getValue : /* istanbul ignore next */\n  '';\n})(), selectionRange = (0, _selectionRange.getSelectionRange)(element), deleteContent) {\n  const selectionStart = selectionRange.selectionStart === null ? value.length : selectionRange.selectionStart;\n  const selectionEnd = selectionRange.selectionEnd === null ? value.length : selectionRange.selectionEnd;\n  const prologEnd = Math.max(0, selectionStart === selectionEnd && deleteContent === 'backward' ? selectionStart - 1 : selectionStart);\n  const prolog = value.substring(0, prologEnd);\n  const epilogStart = Math.min(value.length, selectionStart === selectionEnd && deleteContent === 'forward' ? selectionEnd + 1 : selectionEnd);\n  const epilog = value.substring(epilogStart, value.length);\n  let newValue = `${prolog}${newEntry}${epilog}`;\n  const newSelectionStart = prologEnd + newEntry.length;\n  if (element.type === 'date' && !(0, _isValidDateValue.isValidDateValue)(element, newValue)) {\n    newValue = value;\n  }\n  if (element.type === 'time' && !(0, _isValidInputTimeValue.isValidInputTimeValue)(element, newValue)) {\n    if ((0, _isValidInputTimeValue.isValidInputTimeValue)(element, newEntry)) {\n      newValue = newEntry;\n    } else {\n      newValue = value;\n    }\n  }\n  return {\n    newValue,\n    newSelectionStart\n  };\n}","map":{"version":3,"names":["Object","defineProperty","exports","value","calculateNewValue","_selectionRange","require","_getValue2","_isValidDateValue","_isValidInputTimeValue","newEntry","element","_getValue","getValue","selectionRange","getSelectionRange","deleteContent","selectionStart","length","selectionEnd","prologEnd","Math","max","prolog","substring","epilogStart","min","epilog","newValue","newSelectionStart","type","isValidDateValue","isValidInputTimeValue"],"sources":["/Users/jonchen/Documents/HackPSU/s24hackpsu/node_modules/@testing-library/user-event/dist/utils/edit/calculateNewValue.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.calculateNewValue = calculateNewValue;\n\nvar _selectionRange = require(\"./selectionRange\");\n\nvar _getValue2 = require(\"./getValue\");\n\nvar _isValidDateValue = require(\"./isValidDateValue\");\n\nvar _isValidInputTimeValue = require(\"./isValidInputTimeValue\");\n\nfunction calculateNewValue(newEntry, element, value = (() => {\n  var _getValue;\n\n  return (_getValue = (0, _getValue2.getValue)(element)) != null ? _getValue :\n  /* istanbul ignore next */\n  '';\n})(), selectionRange = (0, _selectionRange.getSelectionRange)(element), deleteContent) {\n  const selectionStart = selectionRange.selectionStart === null ? value.length : selectionRange.selectionStart;\n  const selectionEnd = selectionRange.selectionEnd === null ? value.length : selectionRange.selectionEnd;\n  const prologEnd = Math.max(0, selectionStart === selectionEnd && deleteContent === 'backward' ? selectionStart - 1 : selectionStart);\n  const prolog = value.substring(0, prologEnd);\n  const epilogStart = Math.min(value.length, selectionStart === selectionEnd && deleteContent === 'forward' ? selectionEnd + 1 : selectionEnd);\n  const epilog = value.substring(epilogStart, value.length);\n  let newValue = `${prolog}${newEntry}${epilog}`;\n  const newSelectionStart = prologEnd + newEntry.length;\n\n  if (element.type === 'date' && !(0, _isValidDateValue.isValidDateValue)(element, newValue)) {\n    newValue = value;\n  }\n\n  if (element.type === 'time' && !(0, _isValidInputTimeValue.isValidInputTimeValue)(element, newValue)) {\n    if ((0, _isValidInputTimeValue.isValidInputTimeValue)(element, newEntry)) {\n      newValue = newEntry;\n    } else {\n      newValue = value;\n    }\n  }\n\n  return {\n    newValue,\n    newSelectionStart\n  };\n}"],"mappings":"AAAA,YAAY;;AAEZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAC3CC,KAAK,EAAE;AACT,CAAC,CAAC;AACFD,OAAO,CAACE,iBAAiB,GAAGA,iBAAiB;AAE7C,IAAIC,eAAe,GAAGC,OAAO,CAAC,kBAAkB,CAAC;AAEjD,IAAIC,UAAU,GAAGD,OAAO,CAAC,YAAY,CAAC;AAEtC,IAAIE,iBAAiB,GAAGF,OAAO,CAAC,oBAAoB,CAAC;AAErD,IAAIG,sBAAsB,GAAGH,OAAO,CAAC,yBAAyB,CAAC;AAE/D,SAASF,iBAAiBA,CAACM,QAAQ,EAAEC,OAAO,EAAER,KAAK,GAAG,CAAC,MAAM;EAC3D,IAAIS,SAAS;EAEb,OAAO,CAACA,SAAS,GAAG,CAAC,CAAC,EAAEL,UAAU,CAACM,QAAQ,EAAEF,OAAO,CAAC,KAAK,IAAI,GAAGC,SAAS,GAC1E;EACA,EAAE;AACJ,CAAC,EAAE,CAAC,EAAEE,cAAc,GAAG,CAAC,CAAC,EAAET,eAAe,CAACU,iBAAiB,EAAEJ,OAAO,CAAC,EAAEK,aAAa,EAAE;EACrF,MAAMC,cAAc,GAAGH,cAAc,CAACG,cAAc,KAAK,IAAI,GAAGd,KAAK,CAACe,MAAM,GAAGJ,cAAc,CAACG,cAAc;EAC5G,MAAME,YAAY,GAAGL,cAAc,CAACK,YAAY,KAAK,IAAI,GAAGhB,KAAK,CAACe,MAAM,GAAGJ,cAAc,CAACK,YAAY;EACtG,MAAMC,SAAS,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,EAAEL,cAAc,KAAKE,YAAY,IAAIH,aAAa,KAAK,UAAU,GAAGC,cAAc,GAAG,CAAC,GAAGA,cAAc,CAAC;EACpI,MAAMM,MAAM,GAAGpB,KAAK,CAACqB,SAAS,CAAC,CAAC,EAAEJ,SAAS,CAAC;EAC5C,MAAMK,WAAW,GAAGJ,IAAI,CAACK,GAAG,CAACvB,KAAK,CAACe,MAAM,EAAED,cAAc,KAAKE,YAAY,IAAIH,aAAa,KAAK,SAAS,GAAGG,YAAY,GAAG,CAAC,GAAGA,YAAY,CAAC;EAC5I,MAAMQ,MAAM,GAAGxB,KAAK,CAACqB,SAAS,CAACC,WAAW,EAAEtB,KAAK,CAACe,MAAM,CAAC;EACzD,IAAIU,QAAQ,GAAI,GAAEL,MAAO,GAAEb,QAAS,GAAEiB,MAAO,EAAC;EAC9C,MAAME,iBAAiB,GAAGT,SAAS,GAAGV,QAAQ,CAACQ,MAAM;EAErD,IAAIP,OAAO,CAACmB,IAAI,KAAK,MAAM,IAAI,CAAC,CAAC,CAAC,EAAEtB,iBAAiB,CAACuB,gBAAgB,EAAEpB,OAAO,EAAEiB,QAAQ,CAAC,EAAE;IAC1FA,QAAQ,GAAGzB,KAAK;EAClB;EAEA,IAAIQ,OAAO,CAACmB,IAAI,KAAK,MAAM,IAAI,CAAC,CAAC,CAAC,EAAErB,sBAAsB,CAACuB,qBAAqB,EAAErB,OAAO,EAAEiB,QAAQ,CAAC,EAAE;IACpG,IAAI,CAAC,CAAC,EAAEnB,sBAAsB,CAACuB,qBAAqB,EAAErB,OAAO,EAAED,QAAQ,CAAC,EAAE;MACxEkB,QAAQ,GAAGlB,QAAQ;IACrB,CAAC,MAAM;MACLkB,QAAQ,GAAGzB,KAAK;IAClB;EACF;EAEA,OAAO;IACLyB,QAAQ;IACRC;EACF,CAAC;AACH","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}